import{w as r}from"./widget-manager.DLpjvhIW.js";import"./config.DCMDreeA.js";class n{sidebar;resizeObserver=null;constructor(){this.sidebar=document.getElementById("dynamic-sidebar"),this.init()}init(){this.sidebar&&(this.setupResponsiveDisplay(),this.setupResizeObserver(),this.setupWidgetInteractions(),this.applyInitialAnimations())}setupResponsiveDisplay(){this.updateResponsiveDisplay(),window.addEventListener("resize",()=>this.updateResponsiveDisplay())}updateResponsiveDisplay(){if(!this.sidebar)return;const s=r.getBreakpoints(),e=window.innerWidth;let i;e<s.mobile?i="mobile":e<s.tablet?i="tablet":i="desktop";const t=r.shouldShowSidebar(i);this.sidebar.style.setProperty(`--sidebar-${i}-display`,t?"block":"none"),this.sidebar.setAttribute("data-device-type",i)}setupResizeObserver(){!this.sidebar||!window.ResizeObserver||(this.resizeObserver=new ResizeObserver(s=>{for(const e of s){const{width:i,height:t}=e.contentRect;console.debug(`Sidebar size changed: ${i}x${t}`)}}),this.resizeObserver.observe(this.sidebar))}setupWidgetInteractions(){if(!this.sidebar)return;this.sidebar.querySelectorAll(".widget-container").forEach(e=>{const i=e.getAttribute("data-widget-type");e.addEventListener("mouseenter",()=>{e.classList.add("widget-hover")}),e.addEventListener("mouseleave",()=>{e.classList.remove("widget-hover")}),console.debug(`Widget ${i} interaction setup complete`)})}applyInitialAnimations(){if(!this.sidebar)return;this.sidebar.querySelectorAll(".widget-container").forEach((e,i)=>{const t=i*100;e.style.animationDelay=`${t}ms`})}destroy(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}}const a=new n;window.addEventListener("beforeunload",()=>{a.destroy()});
